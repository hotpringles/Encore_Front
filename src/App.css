/* Base layout */
.app-container {
    display: grid;
    grid-template-rows: auto 1fr; /* header와 content 영역 */
    grid-template-columns: 1fr; /* 기본적으로 한 개의 컬럼 */
    grid-template-areas:
        "header"
        "main";
    height: 100vh;
    width: 100vw;
    overflow-x: hidden; /* 슬라이드 애니메이션 시 가로 스크롤바가 생기는 것을 방지합니다. */
}

.app-nav {
    grid-area: header;
    z-index: 10;
}

.app-main {
    grid-area: main;
    display: flex; /* 자식 요소가 높이를 채울 수 있도록 flexbox 컨테이너로 만듭니다. */
    overflow-y: auto; /* 내용이 넘칠 경우 이 영역이 스크롤되도록 다시 활성화합니다. */
    min-height: 0; /* Grid 아이템이 부모의 크기를 초과하지 않도록 보장합니다. */
    background-color: #f4f4f8; /* 메인 콘텐츠 배경색을 구분하기 위해 추가 */
    margin-right: 0; /* 기본 오른쪽 여백 없음 */
    transition: margin-right 0.35s ease-in-out; /* 여백 변경에 애니메이션 적용 */
}

/* 사이드바가 보일 때, MainContent 오른쪽에 사이드바 너비만큼 여백을 줍니다. */
.app-container.chat-sidebar-visible .app-main {
    margin-right: 33.33vw; /* 사이드바 너비(화면의 1/3)만큼 여백을 줍니다. */
}

.app-sidebar {
    /* 사이드바를 화면 오른쪽에 고정시킵니다. */
    position: fixed;
    top: 60px; /* Nav 높이(60px)만큼 아래에 위치시킵니다. */
    right: 0;
    height: calc(100% - 60px); /* Nav 높이를 제외한 나머지 높이를 차지합니다. */
    width: 33.33vw; /* 브라우저 가로 너비의 1/3을 차지합니다. */
    overflow-y: auto;
    border-left: 1px solid #ccc;
    background-color: #fff;
    transform: translateX(100%); /* 기본적으로 화면 밖에 위치 */
    transition: transform 0.35s ease-in-out; /* 슬라이드 애니메이션 적용 */
    z-index: 20;
}

/* 사이드바가 보일 때, 제자리로 이동시킵니다. */
.app-container.chat-sidebar-visible .app-sidebar {
    transform: translateX(0);
}

/* --- 왼쪽 메뉴 사이드바 스타일 --- */
.menu-sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    z-index: 30; /* 다른 사이드바나 요소보다 위에 오도록 설정 */
    transform: translateX(-100%);
    transition: transform 0.35s ease-in-out;
}

/* 왼쪽 메뉴 사이드바가 보일 때의 스타일 */
.app-container.menu-sidebar-visible .menu-sidebar {
    transform: translateX(0);
}

/* --- 오버레이 스타일 --- */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 25; /* 메뉴 사이드바(30)보다는 아래, 다른 요소들보다는 위에 위치 */
    opacity: 0;
    transition: opacity 0.35s ease-in-out;
    pointer-events: none; /* 기본적으로 클릭 안되게 설정 */
}

.app-container.menu-sidebar-visible .overlay {
    opacity: 1;
    pointer-events: auto; /* 사이드바 보일 때만 클릭 가능하게 설정 */
}
